!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],e):e((t=t||self).reactLosen={},t.React,t.PropTypes)}(this,function(t,e,n){"use strict";function i(t,e,n,i,r,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(i,r)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){a(t,e,n[e])})}return t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?l(t):e}function v(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n=n&&n.hasOwnProperty("default")?n.default:n;var b=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h(this,void 0);var i=n;return t.slice(n).forEach(function(t,r){h(this,e),t.autoSkip||(i=n+r)}.bind(this)),i}.bind(void 0),S=function(t,e,n){h(this,void 0);var i=e.length,r="previous"===n?t-1:t+1;if(r<0)return 0;var o=b(e);return o<r?o:r>=i?i-1:r}.bind(void 0);function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g={name:"",validator:function(){return h(this,void 0),""}.bind(void 0),autoSkip:null},m=function(t){function n(){var t,e,i=this;r(this,n);for(var o=arguments.length,s=new Array(o),p=0;p<o;p++)s[p]=arguments[p];return y(l(e=d(this,(t=c(n)).call.apply(t,[this].concat(s)))),"state",{activeStep:g,activeStepIndex:0,direction:null,isFirstStep:!0,isLastStep:!1,steps:[],stepData:{}}),y(l(e),"stateDebugger",function(){h(this,i),e.props.debug&&console.debug("WIZARD STATE UPDATED",e.state)}.bind(this)),y(l(e),"onPartialChange",function(t){var n=this;return h(this,i),function(i){var r=this;h(this,n);var o="undefined"!==i?a({},t,i):{};e.setState(function(t){return h(this,r),u({},t,{stepData:u({},t.stepData,o)})}.bind(this),e.stateDebugger)}.bind(this)}.bind(this)),y(l(e),"onComplete",function(){h(this,i),e.props.onComplete(e.state.stepData,e.state.activeStep.name)}.bind(this)),e}return p(n,e.Component),s(n,[{key:"getChildContext",value:function(){var t=this;return{activeStep:this.state.activeStep,isFirstStep:this.state.isFirstStep,isLastStep:this.state.isLastStep,registerStep:function(e,n,i){var r=this;h(this,t);this.setState(function(t){return h(this,r),u({},t,{activeStep:t.steps[0]||e,activeStepIndex:0,steps:[].concat(v(t.steps),[{name:e,validator:n,autoSkip:i}])})}.bind(this))}.bind(this),updateStep:function(e,n){var i=this;h(this,t);var r=this.state.steps.findIndex(function(t){return h(this,i),t.name===e}.bind(this));this.setState(function(t){return h(this,i),{steps:[].concat(v(t.steps.slice(0,r)),[u({},t.steps[r],n)],v(t.steps.slice(r+1)))}}.bind(this))}.bind(this),changeStep:function(){var e,n=(e=regeneratorRuntime.mark(function e(n){var i,r,o,s,a,u,p,c,f,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h(this,t),i=this.state,r=i.activeStep,o=i.stepData,s=i.steps,a=i.direction,u=i.activeStepIndex,p=this.props.onStepChange,e.prev=3,"next"!==n&&"complete"!==n){e.next=8;break}if("function"!=typeof r.validator){e.next=8;break}return e.next=8,r.validator();case 8:"complete"===n?this.onComplete():(f=S(u,s,c=n||a),l=r.name,d=s[f].name,p&&!s[f].autoSkip&&p({prevStepName:l,nextStepIndex:f,nextStepName:d,numSteps:s.length,stepData:o}),this.setState({activeStep:s[f]||g,activeStepIndex:f,direction:c,isFirstStep:f<1,isLastStep:f===b(s,f)},this.stateDebugger)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.props.onError&&this.props.onError(e.t0);case 14:case"end":return e.stop()}},e,this,[[3,11]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var s=e.apply(t,n);function a(t){i(s,r,o,a,u,"next",t)}function u(t){i(s,r,o,a,u,"throw",t)}a(void 0)})});return function(t){return n.apply(this,arguments)}}().bind(this)}}},{key:"render",value:function(){return this.props.render(this.state.stepData,this.onPartialChange)}}]),n}();function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}y(m,"defaultProps",{onStepChange:function(){h(this,void 0)}.bind(void 0),debug:!1,onError:null}),m.childContextTypes={activeStep:n.shape({name:n.string.isRequired,validator:n.func}).isRequired,changeStep:n.func.isRequired,isFirstStep:n.bool.isRequired,isLastStep:n.bool.isRequired,registerStep:n.func.isRequired,updateStep:n.func.isRequired};var w=function(t){function n(){var t,e;r(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return x(l(e=d(this,(t=c(n)).call.apply(t,[this].concat(o)))),"context",void 0),e}return p(n,e.Component),s(n,[{key:"componentDidMount",value:function(){this.context.registerStep(this.props.name,this.props.validator,this.props.autoSkip)}},{key:"componentWillReceiveProps",value:function(t,e){e.activeStep.name===this.props.name&&this.props.autoSkip&&this.context.changeStep(),t.autoSkip!==this.props.autoSkip&&this.context.updateStep(this.props.name,{autoSkip:t.autoSkip})}},{key:"render",value:function(){return this.context.activeStep.name===this.props.name?this.props.children:null}}]),n}();function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}x(w,"defaultProps",{autoSkip:!1,validator:null}),w.contextTypes={activeStep:n.shape({name:n.string.isRequired,validator:n.func}).isRequired,changeStep:n.func.isRequired,registerStep:n.func.isRequired,updateStep:n.func.isRequired};var P=function(t){function n(){var t,e,i=this;r(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return O(l(e=d(this,(t=c(n)).call.apply(t,[this].concat(s)))),"context",void 0),O(l(e),"changeStep",function(t){h(this,i),e.context.changeStep(t)}.bind(this)),O(l(e),"onNext",function(){h(this,i),e.context.isLastStep?e.context.changeStep("complete"):e.context.changeStep("next")}.bind(this)),O(l(e),"onPrevious",function(){h(this,i),e.context.isFirstStep||e.context.changeStep("previous")}.bind(this)),e}return p(n,e.Component),s(n,[{key:"render",value:function(){var t=this.context,e=t.isFirstStep,n=t.isLastStep;return this.props.render(this.onNext,this.onPrevious,e,n)}}]),n}();P.contextTypes={changeStep:n.func.isRequired,isFirstStep:n.bool.isRequired,isLastStep:n.bool.isRequired},t.Wizard=m,t.Step=w,t.Controls=P,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.min.js.map